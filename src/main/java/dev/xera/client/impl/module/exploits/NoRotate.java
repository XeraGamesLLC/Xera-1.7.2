package dev.xera.client.impl.module.exploits;

import me.bush.eventbus.annotation.EventListener;
import net.minecraft.network.play.server.S08PacketPlayerPosLook;
import dev.xera.client.core.XeraClient;
import dev.xera.client.impl.event.impl.network.EventPacket;
import dev.xera.client.impl.module.ModuleCategory;
import dev.xera.client.impl.module.ToggleableModule;

public class NoRotate extends ToggleableModule {
    public NoRotate() {
        super("No Rotate", new String[]{"norotate", "antirotate"}, ModuleCategory.EXPLOITS);
    }

    @EventListener
    public void onPacket(EventPacket event) {
        if (event.getPacket() instanceof S08PacketPlayerPosLook) {
            S08PacketPlayerPosLook packet = event.getPacket();

            float[] rotations = XeraClient.getInstance().getRotationManager().serverRotation;

            packet.yaw = rotations[0];
            packet.pitch = rotations[1];
        }
    }
}
